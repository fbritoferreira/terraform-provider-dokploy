---
page_title: "dokploy_ssh_key Resource - dokploy"
subcategory: ""
description: |-
  Manages an SSH key in Dokploy for Git repository access and server authentication.
---

# dokploy_ssh_key (Resource)

Manages an SSH key in Dokploy. SSH keys are used for authenticating with Git repositories and remote servers.

## Example Usage

### SSH Key for Git Repository Access

```terraform
resource "dokploy_ssh_key" "git_deploy" {
  name        = "git-deploy-key"
  description = "Deploy key for accessing private Git repositories"
  private_key = var.git_private_key
  public_key  = var.git_public_key
}

# Use the SSH key with an application
resource "dokploy_application" "api" {
  project_id           = dokploy_project.main.id
  environment_id       = dokploy_environment.prod.id
  name                 = "api"
  custom_git_url       = "git@github.com:myorg/private-repo.git"
  custom_git_branch    = "main"
  custom_git_ssh_key_id = dokploy_ssh_key.git_deploy.id
  build_type           = "dockerfile"
}
```

### SSH Key for Server Access

```terraform
resource "dokploy_ssh_key" "server_key" {
  name        = "server-access-key"
  description = "SSH key for accessing deployment servers"
  private_key = var.server_private_key
  public_key  = var.server_public_key
}

# Use the SSH key with a server
resource "dokploy_server" "production" {
  name        = "production-server"
  ip_address  = "192.168.1.100"
  port        = 22
  username    = "deploy"
  ssh_key_id  = dokploy_ssh_key.server_key.id
  server_type = "deploy"
}
```

### Generated SSH Key

```terraform
# Generate an SSH key pair using Terraform
resource "tls_private_key" "deploy" {
  algorithm = "RSA"
  rsa_bits  = 4096
}

# Store the key in Dokploy
resource "dokploy_ssh_key" "deploy" {
  name        = "auto-generated-deploy-key"
  description = "Automatically generated deployment key"
  private_key = tls_private_key.deploy.private_key_pem
  public_key  = tls_private_key.deploy.public_key_openssh
}

# Output the public key to add to your Git provider
output "deploy_public_key" {
  value     = tls_private_key.deploy.public_key_openssh
  sensitive = false
}
```

### Multiple SSH Keys for Different Purposes

```terraform
# Key for production Git repositories
resource "dokploy_ssh_key" "prod_git" {
  name        = "prod-git-key"
  description = "Production Git repository access"
  private_key = var.prod_git_private_key
  public_key  = var.prod_git_public_key
}

# Key for staging Git repositories
resource "dokploy_ssh_key" "staging_git" {
  name        = "staging-git-key"
  description = "Staging Git repository access"
  private_key = var.staging_git_private_key
  public_key  = var.staging_git_public_key
}

# Key for deployment servers
resource "dokploy_ssh_key" "servers" {
  name        = "server-key"
  description = "Server SSH access"
  private_key = var.server_private_key
  public_key  = var.server_public_key
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Name of the SSH key.
- `private_key` (String, Sensitive) Private key in PEM format.
- `public_key` (String) Public key in OpenSSH format.

### Optional

- `description` (String) Description of the SSH key.

### Read-Only

- `id` (String) The ID of this resource.

## Import

Import is supported using the following syntax:

```shell
# SSH keys can be imported using their ID
terraform import dokploy_ssh_key.deploy "ssh-key-id-123"
```

## Generating SSH Keys

You can generate SSH keys using the `ssh-keygen` command:

```bash
# Generate a new RSA key pair
ssh-keygen -t rsa -b 4096 -C "dokploy-deploy-key" -f deploy_key -N ""

# The private key is in: deploy_key
# The public key is in: deploy_key.pub
```

Or using Ed25519 (recommended for new keys):

```bash
ssh-keygen -t ed25519 -C "dokploy-deploy-key" -f deploy_key -N ""
```

## Notes

- Store private keys securely using Terraform variables, environment variables, or a secrets manager.
- Never commit private keys to version control.
- For Git repository access, add the public key as a deploy key in your Git provider (GitHub, GitLab, etc.).
- For server access, add the public key to the `~/.ssh/authorized_keys` file on the target server.
- RSA keys should be at least 2048 bits (4096 recommended). Ed25519 keys are preferred for new deployments.
