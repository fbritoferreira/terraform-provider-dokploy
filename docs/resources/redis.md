---
page_title: "dokploy_redis Resource - dokploy"
subcategory: ""
description: |-
  Manages a Redis database instance in Dokploy.
---

# dokploy_redis (Resource)

Manages a Redis database instance in Dokploy. Redis is an in-memory data structure store, commonly used as a cache, message broker, or session store.

## Example Usage

### Basic Redis Instance

```terraform
resource "dokploy_project" "main" {
  name        = "my-project"
  description = "Main project"
}

resource "dokploy_environment" "production" {
  project_id = dokploy_project.main.id
  name       = "production"
}

resource "dokploy_redis" "cache" {
  name              = "app-cache"
  app_name          = "redis-cache"
  database_password = var.redis_password
  environment_id    = dokploy_environment.production.id
}
```

### Redis with Custom Docker Image

```terraform
resource "dokploy_redis" "cache" {
  name              = "app-cache"
  app_name          = "redis-cache"
  database_password = var.redis_password
  environment_id    = dokploy_environment.production.id
  docker_image      = "redis:7-alpine"
  description       = "Redis cache for application sessions"
}
```

### Redis with Resource Limits

```terraform
resource "dokploy_redis" "cache" {
  name              = "production-cache"
  app_name          = "prod-redis"
  database_password = var.redis_password
  environment_id    = dokploy_environment.production.id
  
  # Resource limits
  memory_limit       = "512M"
  memory_reservation = "256M"
  cpu_limit          = "1000"
  cpu_reservation    = "500"
  
  description = "Production Redis with resource limits"
}
```

### Redis with External Port

```terraform
# Redis instance accessible from outside the Docker network
resource "dokploy_redis" "external" {
  name              = "external-redis"
  app_name          = "ext-redis"
  database_password = var.redis_password
  environment_id    = dokploy_environment.production.id
  external_port     = 6379
  
  description = "Redis accessible on port 6379"
}
```

### Redis with Multiple Replicas

```terraform
resource "dokploy_redis" "ha_cache" {
  name              = "ha-cache"
  app_name          = "ha-redis"
  database_password = var.redis_password
  environment_id    = dokploy_environment.production.id
  replicas          = 3
  
  description = "High-availability Redis cluster"
}
```

### Redis with Custom Configuration

```terraform
resource "dokploy_redis" "custom" {
  name              = "custom-redis"
  app_name          = "custom-redis"
  database_password = var.redis_password
  environment_id    = dokploy_environment.production.id
  
  # Custom Redis command with persistence settings
  command = "redis-server --appendonly yes --maxmemory 256mb --maxmemory-policy allkeys-lru"
  
  # Environment variables
  env = <<-EOT
    REDIS_MAXCLIENTS=1000
  EOT
  
  description = "Redis with custom configuration"
}
```

### Redis on a Specific Server

```terraform
resource "dokploy_redis" "remote_cache" {
  name              = "remote-cache"
  app_name          = "remote-redis"
  database_password = var.redis_password
  environment_id    = dokploy_environment.production.id
  server_id         = dokploy_server.database_server.id
  
  description = "Redis deployed on dedicated database server"
}
```

### Complete Application Stack with Redis

```terraform
resource "dokploy_project" "webapp" {
  name        = "web-application"
  description = "Full-stack web application"
}

resource "dokploy_environment" "prod" {
  project_id = dokploy_project.webapp.id
  name       = "production"
}

# Redis for caching
resource "dokploy_redis" "cache" {
  name              = "app-cache"
  app_name          = "webapp-redis"
  database_password = var.redis_password
  environment_id    = dokploy_environment.prod.id
  memory_limit      = "256M"
}

# Main database
resource "dokploy_database" "postgres" {
  project_id     = dokploy_project.webapp.id
  environment_id = dokploy_environment.prod.id
  name           = "app-db"
  type           = "postgres"
  password       = var.db_password
  version        = "16"
}

# Application that uses both Redis and Postgres
resource "dokploy_application" "api" {
  project_id     = dokploy_project.webapp.id
  environment_id = dokploy_environment.prod.id
  name           = "api-server"
  source_type    = "docker"
  docker_image   = "myapp/api:latest"
  
  env = <<-EOT
    REDIS_URL=redis://:${var.redis_password}@${dokploy_redis.cache.app_name}:6379
    DATABASE_URL=postgresql://postgres:${var.db_password}@${dokploy_database.postgres.name}:5432/postgres
  EOT
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `app_name` (String) Application name prefix for the Redis instance. Dokploy will append a random suffix.
- `database_password` (String, Sensitive) Password for the Redis database.
- `environment_id` (String) ID of the environment to deploy the Redis instance in.
- `name` (String) Name of the Redis instance.

### Optional

- `command` (String) Custom command to run in the Redis container.
- `cpu_limit` (String) CPU limit for the Redis container.
- `cpu_reservation` (String) CPU reservation for the Redis container.
- `description` (String) Description of the Redis instance.
- `docker_image` (String) Docker image to use for Redis (defaults to official Redis image).
- `env` (String) Environment variables for the Redis container.
- `external_port` (Number) External port to expose the Redis instance.
- `memory_limit` (String) Memory limit for the Redis container.
- `memory_reservation` (String) Memory reservation for the Redis container.
- `replicas` (Number) Number of replicas for the Redis instance.
- `server_id` (String) ID of the server to deploy the Redis instance on.

### Read-Only

- `application_status` (String) Current status of the Redis application.
- `id` (String) Unique identifier for the Redis instance.

## Import

Import is supported using the following syntax:

```shell
# Redis instances can be imported using their ID
terraform import dokploy_redis.cache "redis-id-123"
```

## Notes

- The `app_name` you provide will have a random suffix appended by Dokploy (e.g., `myredis` becomes `myredis-abc123`).
- Redis password is required and should be stored securely using Terraform variables or a secrets manager.
- When connecting from other services in the same Dokploy environment, use the internal Docker network hostname.
- The default Redis image is `redis:8`. You can specify a different version using the `docker_image` attribute.
