---
page_title: "dokploy_backup Resource - dokploy"
subcategory: ""
description: |-
  Manages automated backups for Dokploy databases.
---

# dokploy_backup (Resource)

Manages automated backups for Dokploy databases. Supports scheduling backups to S3-compatible storage destinations.

## Example Usage

### Basic Database Backup

```terraform
resource "dokploy_backup" "daily" {
  database_id    = dokploy_database.postgres.id
  database_type  = "postgres"
  destination_id = dokploy_destination.s3.id
  schedule       = "0 2 * * *"  # Daily at 2 AM
  prefix         = "daily-backup"
  enabled        = true
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `database` (String) Database name to backup (for database backups) or identifier (for compose backups).
- `destination_id` (String) ID of the backup destination (S3, MinIO, etc.).
- `prefix` (String) Prefix for backup files.
- `schedule` (String) Cron schedule for backups (e.g., '0 2 * * *' for daily at 2 AM).

### Optional

- `backup_type` (String) Type of backup: 'database' for database backups or 'compose' for compose service backups.
- `compose_id` (String) ID of the compose to backup. Required when backup_type is 'compose'.
- `database_id` (String) ID of the database to backup. Required when backup_type is 'database'.
- `database_type` (String) Type of database: postgres, mysql, mariadb, or mongo. Required when backup_type is 'database'.
- `enabled` (Boolean) Whether the backup schedule is enabled.
- `keep_latest_count` (Number) Number of recent backups to keep (older ones are deleted).
- `service_name` (String) Name of the service within the compose to backup. Required when backup_type is 'compose'.

### Read-Only

- `id` (String) Unique identifier for the backup.

## Import

Import is supported using the following syntax:

```shell
terraform import dokploy_backup.daily "backup-id-123"
```
